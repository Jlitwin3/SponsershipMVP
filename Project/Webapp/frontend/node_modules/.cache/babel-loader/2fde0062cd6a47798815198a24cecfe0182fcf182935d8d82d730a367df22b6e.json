{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import ChatInterface from'./components/ChatInterface';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isReady,setIsReady]=useState(false);const[isProcessing,setIsProcessing]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Poll for status until documents are ready\nconst checkStatus=async()=>{try{const response=await fetch('http://localhost:5001/api/status');const data=await response.json();if(data.processed){setIsReady(true);setIsProcessing(false);}else if(data.is_processing){setIsProcessing(true);// Keep polling every 2 seconds while processing\nsetTimeout(checkStatus,2000);}else{setError('No documents found or processing failed');setIsProcessing(false);}}catch(err){console.error('Failed to check status:',err);setError('Failed to connect to server');setIsProcessing(false);}};checkStatus();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"L'mu-Oa: AI Sponsorship Assistant\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover. Analyze. Propose. All with L\\u2019mu-Oa\"})]}),/*#__PURE__*/_jsx(\"main\",{className:\"App-main\",children:isProcessing?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Processing PDFs...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading and analyzing research papers. This may take a minute.\"})]}):isReady?/*#__PURE__*/_jsx(ChatInterface,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error||'Failed to load documents'})]})}),error&&isReady&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u274C \",error]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","ChatInterface","jsx","_jsx","jsxs","_jsxs","App","isReady","setIsReady","isProcessing","setIsProcessing","error","setError","checkStatus","response","fetch","data","json","processed","is_processing","setTimeout","err","console","className","children"],"sources":["/Users/eyasuberehanu/Documents/SponsershipProject-main/Project/Webapp/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ChatInterface from './components/ChatInterface';\n\nfunction App() {\n  const [isReady, setIsReady] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Poll for status until documents are ready\n    const checkStatus = async () => {\n      try {\n        const response = await fetch('http://localhost:5001/api/status');\n        const data = await response.json();\n\n        if (data.processed) {\n          setIsReady(true);\n          setIsProcessing(false);\n        } else if (data.is_processing) {\n          setIsProcessing(true);\n          // Keep polling every 2 seconds while processing\n          setTimeout(checkStatus, 2000);\n        } else {\n          setError('No documents found or processing failed');\n          setIsProcessing(false);\n        }\n      } catch (err) {\n        console.error('Failed to check status:', err);\n        setError('Failed to connect to server');\n        setIsProcessing(false);\n      }\n    };\n\n    checkStatus();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>L'mu-Oa: AI Sponsorship Assistant</h1>\n        <p>Discover. Analyze. Propose. All with L’mu-Oa</p>\n      </header>\n\n      <main className=\"App-main\">\n        {isProcessing ? (\n          <div className=\"loading-container\">\n            <div className=\"spinner\"></div>\n            <h2>Processing PDFs...</h2>\n            <p>Loading and analyzing research papers. This may take a minute.</p>\n          </div>\n        ) : isReady ? (\n          <ChatInterface />\n        ) : (\n          <div className=\"error-container\">\n            <h2>Error</h2>\n            <p>{error || 'Failed to load documents'}</p>\n          </div>\n        )}\n      </main>\n\n      {error && isReady && (\n        <div className=\"error-message\">\n          <span>❌ {error}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAa,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAC,CAChE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC,GAAID,IAAI,CAACE,SAAS,CAAE,CAClBV,UAAU,CAAC,IAAI,CAAC,CAChBE,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,IAAM,IAAIM,IAAI,CAACG,aAAa,CAAE,CAC7BT,eAAe,CAAC,IAAI,CAAC,CACrB;AACAU,UAAU,CAACP,WAAW,CAAE,IAAI,CAAC,CAC/B,CAAC,IAAM,CACLD,QAAQ,CAAC,yCAAyC,CAAC,CACnDF,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAE,MAAOW,GAAG,CAAE,CACZC,OAAO,CAACX,KAAK,CAAC,yBAAyB,CAAEU,GAAG,CAAC,CAC7CT,QAAQ,CAAC,6BAA6B,CAAC,CACvCF,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAEDG,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAKkB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnB,KAAA,WAAQkB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5BrB,IAAA,OAAAqB,QAAA,CAAI,mCAAiC,CAAI,CAAC,cAC1CrB,IAAA,MAAAqB,QAAA,CAAG,mDAA4C,CAAG,CAAC,EAC7C,CAAC,cAETrB,IAAA,SAAMoB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACvBf,YAAY,cACXJ,KAAA,QAAKkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCrB,IAAA,QAAKoB,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BpB,IAAA,OAAAqB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BrB,IAAA,MAAAqB,QAAA,CAAG,gEAA8D,CAAG,CAAC,EAClE,CAAC,CACJjB,OAAO,cACTJ,IAAA,CAACF,aAAa,GAAE,CAAC,cAEjBI,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrB,IAAA,OAAAqB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdrB,IAAA,MAAAqB,QAAA,CAAIb,KAAK,EAAI,0BAA0B,CAAI,CAAC,EACzC,CACN,CACG,CAAC,CAENA,KAAK,EAAIJ,OAAO,eACfJ,IAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BnB,KAAA,SAAAmB,QAAA,EAAM,SAAE,CAACb,KAAK,EAAO,CAAC,CACnB,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAL,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}